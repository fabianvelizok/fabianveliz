{"ast":null,"code":"import _classCallCheck from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/fabian/Projects/fabianveliz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/forbid-prop-types */\n\n/* eslint-disable react/no-unused-prop-types */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport TagManager from 'react-gtm-module';\n\nvar GoogleTagManager = /*#__PURE__*/function (_Component) {\n  _inherits(GoogleTagManager, _Component);\n\n  var _super = _createSuper(GoogleTagManager);\n\n  function GoogleTagManager(_props) {\n    var _this;\n\n    _classCallCheck(this, GoogleTagManager);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"shouldTrack\", function () {\n      var _this$props = _this.props,\n          gtmId = _this$props.gtmId,\n          isClient = _this$props.isClient,\n          hostname = _this$props.hostname;\n      return gtmId && isClient && window.location.hostname !== hostname;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initializeTagManager\", function (props) {\n      var auth = props.auth,\n          dataLayer = props.dataLayer,\n          dataLayerName = props.dataLayerName,\n          events = props.events,\n          gtmId = props.gtmId,\n          preview = props.preview;\n\n      if (_this.shouldTrack()) {\n        TagManager.initialize({\n          auth: auth,\n          dataLayer: dataLayer,\n          dataLayerName: dataLayerName,\n          events: events,\n          gtmId: gtmId,\n          preview: preview\n        });\n      }\n    });\n\n    _this.initializeTagManager(_props);\n\n    return _this;\n  }\n\n  _createClass(GoogleTagManager, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return GoogleTagManager;\n}(Component);\n\n_defineProperty(GoogleTagManager, \"propTypes\", {\n  auth: PropTypes.string,\n  dataLayer: PropTypes.object,\n  dataLayerName: PropTypes.string,\n  events: PropTypes.object,\n  gtmId: PropTypes.string,\n  hostname: PropTypes.string,\n  isClient: PropTypes.bool,\n  preview: PropTypes.string\n});\n\n_defineProperty(GoogleTagManager, \"defaultProps\", {\n  auth: undefined,\n  dataLayer: undefined,\n  dataLayerName: 'dataLayer',\n  events: undefined,\n  gtmId: process.env.ID_GOOGLE_TAG_MANAGER,\n  hostname: 'localhost',\n  isClient: true,\n  preview: undefined\n});\n\nexport default GoogleTagManager;","map":{"version":3,"sources":["/home/fabian/Projects/fabianveliz/src/components/atoms/GoogleTagManager/GoogleTagManager.js"],"names":["PropTypes","React","Component","TagManager","GoogleTagManager","props","gtmId","isClient","hostname","window","location","auth","dataLayer","dataLayerName","events","preview","shouldTrack","initialize","initializeTagManager","string","object","bool","undefined","process","env","ID_GOOGLE_TAG_MANAGER"],"mappings":";;;;;;;;;;;;AAAA;;AACA;AAEA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;IAEMC,gB;;;;;AAuBJ,4BAAYC,MAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,MAAN;;AADiB,kEAUL,YAAM;AAAA,wBACoB,MAAKA,KADzB;AAAA,UACVC,KADU,eACVA,KADU;AAAA,UACHC,QADG,eACHA,QADG;AAAA,UACOC,QADP,eACOA,QADP;AAElB,aAAOF,KAAK,IAAIC,QAAT,IAAqBE,MAAM,CAACC,QAAP,CAAgBF,QAAhB,KAA6BA,QAAzD;AACD,KAbkB;;AAAA,2EAeI,UAAAH,KAAK,EAAI;AAAA,UACtBM,IADsB,GACqCN,KADrC,CACtBM,IADsB;AAAA,UAChBC,SADgB,GACqCP,KADrC,CAChBO,SADgB;AAAA,UACLC,aADK,GACqCR,KADrC,CACLQ,aADK;AAAA,UACUC,MADV,GACqCT,KADrC,CACUS,MADV;AAAA,UACkBR,KADlB,GACqCD,KADrC,CACkBC,KADlB;AAAA,UACyBS,OADzB,GACqCV,KADrC,CACyBU,OADzB;;AAG9B,UAAI,MAAKC,WAAL,EAAJ,EAAwB;AACtBb,QAAAA,UAAU,CAACc,UAAX,CAAsB;AAAEN,UAAAA,IAAI,EAAJA,IAAF;AAAQC,UAAAA,SAAS,EAATA,SAAR;AAAmBC,UAAAA,aAAa,EAAbA,aAAnB;AAAkCC,UAAAA,MAAM,EAANA,MAAlC;AAA0CR,UAAAA,KAAK,EAALA,KAA1C;AAAiDS,UAAAA,OAAO,EAAPA;AAAjD,SAAtB;AACD;AACF,KArBkB;;AAGjB,UAAKG,oBAAL,CAA0Bb,MAA1B;;AAHiB;AAIlB;;;;4CAEuB;AACtB,aAAO,KAAP;AACD;;;6BAeQ;AACP,aAAO,IAAP;AACD;;;;EAhD4BH,S;;gBAAzBE,gB,eACe;AACjBO,EAAAA,IAAI,EAAEX,SAAS,CAACmB,MADC;AAEjBP,EAAAA,SAAS,EAAEZ,SAAS,CAACoB,MAFJ;AAGjBP,EAAAA,aAAa,EAAEb,SAAS,CAACmB,MAHR;AAIjBL,EAAAA,MAAM,EAAEd,SAAS,CAACoB,MAJD;AAKjBd,EAAAA,KAAK,EAAEN,SAAS,CAACmB,MALA;AAMjBX,EAAAA,QAAQ,EAAER,SAAS,CAACmB,MANH;AAOjBZ,EAAAA,QAAQ,EAAEP,SAAS,CAACqB,IAPH;AAQjBN,EAAAA,OAAO,EAAEf,SAAS,CAACmB;AARF,C;;gBADff,gB,kBAYkB;AACpBO,EAAAA,IAAI,EAAEW,SADc;AAEpBV,EAAAA,SAAS,EAAEU,SAFS;AAGpBT,EAAAA,aAAa,EAAE,WAHK;AAIpBC,EAAAA,MAAM,EAAEQ,SAJY;AAKpBhB,EAAAA,KAAK,EAAEiB,OAAO,CAACC,GAAR,CAAYC,qBALC;AAMpBjB,EAAAA,QAAQ,EAAE,WANU;AAOpBD,EAAAA,QAAQ,MAPY;AAQpBQ,EAAAA,OAAO,EAAEO;AARW,C;;AAuCxB,eAAelB,gBAAf","sourcesContent":["/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/no-unused-prop-types */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport TagManager from 'react-gtm-module';\n\nclass GoogleTagManager extends Component {\n  static propTypes = {\n    auth: PropTypes.string,\n    dataLayer: PropTypes.object,\n    dataLayerName: PropTypes.string,\n    events: PropTypes.object,\n    gtmId: PropTypes.string,\n    hostname: PropTypes.string,\n    isClient: PropTypes.bool,\n    preview: PropTypes.string,\n  };\n\n  static defaultProps = {\n    auth: undefined,\n    dataLayer: undefined,\n    dataLayerName: 'dataLayer',\n    events: undefined,\n    gtmId: process.env.ID_GOOGLE_TAG_MANAGER,\n    hostname: 'localhost',\n    isClient: typeof window !== 'undefined',\n    preview: undefined,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.initializeTagManager(props);\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  shouldTrack = () => {\n    const { gtmId, isClient, hostname } = this.props;\n    return gtmId && isClient && window.location.hostname !== hostname;\n  };\n\n  initializeTagManager = props => {\n    const { auth, dataLayer, dataLayerName, events, gtmId, preview } = props;\n\n    if (this.shouldTrack()) {\n      TagManager.initialize({ auth, dataLayer, dataLayerName, events, gtmId, preview });\n    }\n  };\n\n  render() {\n    return null;\n  }\n}\n\nexport default GoogleTagManager;\n"]},"metadata":{},"sourceType":"module"}